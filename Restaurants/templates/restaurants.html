{% extends 'base.html' %}
{% load static restaurant_tags %}
{% block title %} Restaurants {% endblock %}


{% block css %}
<link rel="stylesheet" href="{% static 'css/restaurants.css' %}">
{% endblock %}

{% block content %}
<section>
    <div class="background-filter">
        <div class="restaurant-container">
            <div class="row">
                <div class="col-12 row m-0  d-flex restaurant-search-input ">
                    <div
                        class="position-relative search-inputt bg-white col-md-9 col-10  w-100 d-flex align-items-center">
                        <i class="fa fa-search"></i>
                        <input class="ml-2 restaurant-filter-input" placeholder="Location or Restaurant" type="text">
                        <div class="position-absolute help-list">
                        </div>
                    </div>
                    <div class="col-md-2 col-10 p-0">
                        <input class="restaurant-find" value="Find a restaurant" type="submit">
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="restaurant-container  mt-2" style="justify-content: center !important;display: flex;">
    <div class="col-md-11 resp-options">
        <div class="row">
            <div class="col-md-3">
                <a href="https://www.google.com/maps/search/Food+Delivery/" class="restaurants-map" target="_blank">
                    <div class="d-flex justify-content-center align-items-center google-map">
                        <svg class="map-svg" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" focusable="false">
                            <g fill="none" fill-rule="evenodd"
                                transform="translate(12.000000, 5470.000000) scale(-1, 1) translate(-12.000000, -5470.000000)">
                                <path
                                    d="M10,4.31651371 L10,18.4730466 C10.0285038,18.4809691 10.0569401,18.4892133 10.0853036,18.4977793 L14,19.6800461 L14,5.53831015 C13.9594804,5.52729607 13.9190944,5.51563333 13.8788575,5.50332209 L10,4.31651371 Z M8,4.25005613 L4,5.30326893 L4,19.4951652 L7.90411701,18.4604528 C7.93600389,18.4520018 7.96796736,18.4439525 7.99999999,18.4363047 L8,4.25005613 Z M16,5.56370647 L16,19.7427917 L20,18.6926445 L19.9905189,4.50952294 L16.0714536,5.54552048 C16.047677,5.55180576 16.0238581,5.55786772 16,5.56370642 Z M3.49351286,3.36304214 L8.45154718,2.06514365 C8.81011845,1.971278 9.18772029,1.97890237 9.54221026,2.08716584 L14.4577897,3.58841477 C14.8122797,3.69667824 15.1898815,3.70430261 15.5484528,3.61043696 L19.4935129,2.57771166 C20.5620762,2.29798654 21.65508,2.93746627 21.9348051,4.00602962 C21.9780898,4.17137928 22,4.3415955 22,4.51251676 L22,18.7021112 C22,19.6116129 21.3863414,20.4065909 20.5064871,20.6369163 L15.5482943,21.9348563 C15.1898227,22.0286959 14.8123291,22.0211023 14.4579213,21.9129227 L9.53893754,20.4114496 C9.18445556,20.3032474 8.80687965,20.2956737 8.44834377,20.3895738 L4.50670792,21.4218834 C3.43817649,21.7017304 2.34509976,21.0623754 2.06525271,19.993844 C2.02192978,19.8284254 2,19.6581337 2,19.4871361 L2,5.29784724 C2,4.38834555 2.61365861,3.59336759 3.49351286,3.36304214 Z"
                                    fill="#2D333F"></path>
                            </g>
                        </svg>
                        <span class="ml-1">Map</span>
                    </div>
                </a>
                <div class="d-none d-md-block">
                    <div class="special-border">
                        {% for types in type_radio %}
                        <div class="d-flex mt-2 mb-2">
                            <img src="{{types.option_svg_file.url}}" width="20px" alt="">
                            <p class="ml-1 mt-0 mb-0 mr-0 p-0 restaurant-options">{{types.option_name}}</p>
                        </div>
                        {% for element in types.option_inputs.all %}
                        <div class="d-flex align-items-center">
                            <input class="ml-1 regular-radio" type="radio" name="dining-option1" id="">
                            <p class="restaurant-list-option radio-option ml-2 mt-0 mb-0 mr-0 ">{{element}}</p>
                        </div>
                        {% endfor %}
                        <div class="mb-3"></div>
                        {% endfor %}
                    </div>

                    {% for types in type_checkbox %}
                    <div class="special-border">
                        <div class="d-flex mt-2 mb-2">
                            <img src="{{types.option_svg_file.url}}" width="20px" alt="">
                            <p class="ml-1 mt-0 mb-0 mr-0 p-0 restaurant-options">{{types.option_name}}</p>
                        </div>
                        {% for element in types.option_inputs.all %}
                        <div class="d-flex align-items-center">
                            <input class="ml-1 custom-checkbox" type="checkbox" name="" id="">
                            <p class="restaurant-list-option checkbox-option ml-2 mt-0 mb-0 mr-0 ">{{element}}</p>
                        </div>
                        {% endfor %}
                        <div class="mb-3"></div>
                    </div>
                    {% endfor %}

                </div>
            </div>
            <div class="d-md-none d-block col-12" style="margin-top: 15px;">
                <!-- <div class="special-border mt-3"></div> -->
                {% for types in type_radio %}
                <div class="special-border"></div>
                <div class="position-relative " style="cursor: pointer">
                    <div class="d-flex justify-content-between align-items-center option-padding all-options">
                        <div class="d-flex">
                            <img src="{{types.option_svg_file.url}}" width="20px" alt="">
                            <p class="ml-1 mt-0 mb-0 mr-0 p-0 restaurant-options">{{types.option_name}}</p>
                        </div>
                        <i style="padding: 0px 10px;" class="fa fa-angle-down"></i>
                    </div>
                    <div class="option-tables d-none all-option-tables">
                        <div class="all-options-in-table">
                            {% for element in types.option_inputs.all %}
                            <div class="d-flex mb-2 align-items-center">
                                <input class="ml-1 regular-radio" type="radio" name="dining-option2" id="">
                                <p class="restaurant-list-option radio-option ml-2 mt-0 mb-0 mr-0 ">{{element}}</p>
                            </div>
                            {% endfor %}
                            <div class="triangle-table"></div>
                        </div>
                    </div>
                </div>
                {% endfor %}

                {% for types in type_checkbox %}
                <div class="special-border"></div>
                <div class="position-relative" style="cursor: pointer">
                    <div class="d-flex justify-content-between align-items-center option-padding  all-options">
                        <div class="d-flex">
                            <img src="{{types.option_svg_file.url}}" width="20px" alt="">
                            <p class="ml-1 mt-0 mb-0 mr-0 p-0 restaurant-options">{{types.option_name}}</p>
                        </div>
                        <i style="padding: 0px 10px;" class="fa fa-angle-down"></i>
                    </div>
                    <div class="option-tables d-none all-option-tables">
                        <div class="all-options-in-table">
                            {% for element in types.option_inputs.all%}
                            <div class="d-flex mb-2 align-items-center">
                                <input class="ml-1 custom-checkbox" type="checkbox" name="" id="">
                                <p class="restaurant-list-option checkbox-option ml-2 mt-0 mb-0 mr-0 ">{{element}}</p>
                            </div>
                            {% endfor %}
                            <div class="triangle-table"></div>
                        </div>
                    </div>
                </div>
                {% endfor %}
                <div class="special-border"></div>
            </div>

            <!-- <div style="border-bottom: 1px solid rgba(0,0,0,.12);" class="col-12"></div> -->
            {% countRestaurants as information %}

            <div class="col-md-9 col-12 restaurants-list">

                <div class="available-table col-md-12 mt-0 p-0"
                    style="height: 60px;border-bottom: 1px solid rgba(0,0,0,.12);">
                    <div>

                        <span class="count-restaurants">
                            {{information.restaurant}} {% if information.restaurant <= 1 %} Restaurant
                            {% elif information.restaurant > 1 %} Restaurants {% endif %}
                        </span>
                    </div>
                    <div class=" d-flex align-items-center" style="">
                        <button class="button-featured restaurant-dropdown">
                            <div class="restaurant-dropdown-featured">Featured</div> <i style="padding: 0px 10px;"
                                class="fa fa-angle-down"></i>
                        </button>
                        <ul class="dropdown-list d-none">
                            <li class='type-list'>Featured</li>
                            <li class='type-list'>Highest Rated</li>
                            <li class='type-list'>Newest</li>
                        </ul>
                    </div>

                </div>



                {% for restaurant in restaurants_list%}
                <div class="restaurants-cards">
                    <div class="mt-3 card restaurant-card mb-3" style="max-width: 100%">
                        <div class="d-flex no-gutters">
                            <a href="{{restaurant.get_absolute_url}}">
                                <img src="{{restaurant.image.url}}" class="card-img restaurant-card-img" alt="...">
                            </a>
                            <div>
                                <div class="card-body ml-1 body-card">
                                    <a href="{{restaurant.get_absolute_url}}"
                                        class="card-title m-0 restaurant-name">{{restaurant.name}}</a>
                                    <div class="for-rating">
                                        <div>
                                                {% review_part restaurant.id as food_review %}
                                                {{food_review.star_html_all|safe}}
                                        </div>
                                    </div>
                                    <small class="restaurant-city-name">{{restaurant.city}}</small>
                                    <p style="font-size:14px;font-weight:400"><span style="font-weight: 700;">Opening times:</span>  {{restaurant.open_time|date:"h:i a"}} -
                                        {{restaurant.close_time|date:"h:i a"}}</p>
                                    <div class="restaurant-delivery">Takeout</div>
                                    <div class="restaurant-telephone">
                                        <img src="{% static 'images/tel.svg' %}" alt="">
                                        <span>{{restaurant.phone_number}}</span>

                                    </div>
                                </div>
                            </div>
                        </div>


                    </div>

                    {% empty %}
                    <h1>Empty Information</h1>
                    {% endfor %}

                </div>

                <div class="block-27">
                    <ul class="d-flex list-pagination">
                        {% if page_obj.has_previous %}
                        <li><span class="before-arrow" >&lt;</span></li>
                        {% endif %}

                        {% for page in page_obj.paginator.page_range %}
                        {% if page == page_obj.number %}
                        {% if information.restaurant > 0 %}
                        <li class="active-page pages " style="color:#077fff" data-page='{{page}}'><span>{{page}}</span></li>
                        {% endif %}
                        {% else %}
                        <li><span style="color:#077fff" class="pages" data-page='{{page}}'>{{page}}</span></li>
                        {% endif %}
                        {% endfor %}
                        {% if page_obj.has_next %}
                        <li><span class="next-arrow">&gt;</span></li>
                        {% endif %}
                    </ul>
                </div>

            </div>

        </div>
    </div>
</section>



{% include 'includes/subscribers.html' %}

{% block js %}

{% endblock %}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="{% static 'js/restaurant.js' %}"></script>
{% endblock content %}